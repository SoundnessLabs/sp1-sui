#[test_only]
module groth16_verifier::proof_tests;

use sui::groth16;

#[test]
fun groth16_bn254_test() {
    let pvk = groth16::prepare_verifying_key(
        &groth16::bn254(),
        &x"e2f26dbea299f5223b646cb1fb33eadb059d9407559d7441dfd902e3a79a4d2dabb73dc17fbc13021e2471e0c08bd67d8401f52b73d6d07483794cad4778180e0c06f33bbc4c79a9cadef253a68084d382f17788f885c9afd176f7cb2f036789edf692d95cbdde46ddda5ef7d422436779445c5e66006a42761e1f12efde0018c212f3aeb785e49712e7a9353349aaf1255dfb31b7bf60723a480d9293938e19f78a1812512a64d79b03fa446e09d7826b2f419e9e91938352653aa01c461f2d3e5ee58dd636c19d8ad5f7d69ef1b76a5eb20aed96fc9a8d8f68d90a8b43aba103000000000000004892918990c9ebab264004cb83601494bad168379d54c516b566feae9c8551828b127f6ae7d7d0afce851050db740798f217d431444eea8b93e3d0a5f664a213405ddac4a2ac923849a3add152e42eec5f1b141ed0875a06b4778f3818787703",
    );
    let public_inputs = groth16::public_proof_inputs_from_bytes(
        x"835f55092637eb8a3643057c18e2139e31f33d92955ef6764a8b3e06fa047a00cee377e7949527b60b8b0e4ae8046347a0522b78bd68a3c1e768255997e91917",
    );
    let proof_points = groth16::proof_points_from_bytes(
        x"eb710821ee91579008cfc5f1e27652d463804c0aa02f3d4bab1bee826ec4e9aa4d72c45486dc851fb2626d3ce2a214ce82e202be0a83b3893b668121fedf5d21727c16215a8a98eb3ecc4ef7e952bfd7475d77a1ad3bc895d2a613cc46a72f9559e5bafbb3dbbbe5b2ed45d6363dd32586fac9e355c4e3fc25e9acd77292941c",
    );

    assert!(groth16::verify_groth16_proof(&groth16::bn254(), &pvk, &public_inputs, &proof_points));
}
